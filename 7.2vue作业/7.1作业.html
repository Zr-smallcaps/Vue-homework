<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   
        
    <script>
//        第一题 function instance_of(L, R) { //L为变量，R为类型
//             var prototype = R.prototype;
//             L = L.__proto__;
//             while (true) {
//                 if (L === null) {
//                     return false;
//                 }
//                 if (prototype === L) {
//                     return true;
//                 }
//                 L = L.__proto__;
//             }
//         }
//     第二题         function fn() {   
//             console.log(this);
//         }
//         const obj = {
//             name: "test",
//             a() {
//                 console.log(this.a); //指向a的函数体
//                 setTimeout(function () {
//                     console.log(this.a); //undefined
//                 }, 1000);
//             },
//             b() {
//                 console.log(this); //指向obj 这个对象
//                 fn(); //指向window
//             },
//         };
//         obj.a();
//         obj.b()
//     第三题    const _completeDeepClone = (target, map = new Map()) => {
//             if (target === null) return target;
//             if (typeof target !== 'object') return target;
//             const constructor = target.constructor;
//             if (/^(Function|RegExp|Date|Map|Set)$/i.test(constructor.name)) return new constructor(target);
//             if (map.get(target)) return map.get(target);
//             map.set(target, true);
//             const cloneTarget = Array.isArray(target) ? [] : {}
//             for (prop in target) {
//                 if (target.hasOwnProperty(prop)) {
//                     cloneTarget[prop] = _completeDeepClone(target[prop], map)
//                 }
//             }
//             return cloneTarget
//         }
//         let o1 = {
//             son1: {
//                 name: "张三",
//                 wife: {
//                     name: "小红"
//                 }
//             }
//         }

//         let o2 = _completeDeepClone(o1)
//         console.log(o2);

//         o1.son2 = o1
//         console.log(o1.son2);

//         o1.son1.wife = "小白"
//         console.log(o2);
//         console.log(o2.son1.wife === o1.son1.wife);
    </script>
</body>
</html>