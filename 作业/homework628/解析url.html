<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // http://www.baidu.com?name=zhangsan&age=18&sex=nan#
      let url = 'http://www.baidu.com?name=zhangsan&age=18&sex=nan#';
      //      第一种方法
      //   function Url(url) {
      //     const index1 = url.indexOf('?'),
      //       index2 = url.indexOf('#'),
      //       params = url.slice(index1 + 1, index2).split('&');

      //     var newarr = [];
      //     for (var i = 0; i < params.length; i++) {
      //       newarr += params[i].split('=') + ',';
      //     }
      //     newarr = newarr.split(',');
      //     var newobj = {};
      //     for (var i = 0; i < newarr.length - 1; i++) {
      //       if (i % 2 == 0) {
      //         newobj[newarr[i]] = newarr[i + 1];
      //       }
      //     }
      //     return newobj;
      //   }
      //   let str = Url(url);
      //   console.log(str);
      //第二种方法
      //   let url = 'http://www.baidu.com/index?name=baidu&age=35#333';
      //   function Url1(url) {
      //     let result = {},
      //       reg = /([^?=&#]+)=([^?=&#]+)/g,
      //     let str = url.replace(reg， function (n, x, y) {
      //       //匹配出 name=baidu 这种格式  n =name=baidu  x= name y = baidu
      //       result[x] = y;
      //     });
      //     console.log(str);

      //     return result;
      //   }
      //   let str = Url1(url);

      //   console.log(str);
      //第三种方法
      //   const process = url => {
      //     const index1 = url.indexOf('?'),
      //       index2 = url.indexOf('#'),
      //       params = url.slice(index1 + 1, index2).split('&');
      //     return params.reduce((pre, curr) => {
      //       // [name,zhangsan]
      //       // { name:zhangsan }
      //       const [key, value] = curr.split('=');
      //       pre[key] = value;
      //       return pre;
      //     }, {});
      //   };

      //   process(url);
    </script>
  </body>
</html>
